<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Donate and Support</title>
  <link rel="stylesheet" href="donate_style.css" />
  <link rel="stylesheet" href="common.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
  <div class="navbar-container">
    <div class="logo">
      <img src="/assets/Seminar Library Logo (Without BG).png" srcset="">
    </div>

    <div class="items">
      <ul>
        <li>
          <div class="search-container">
            <input type="text" class="search-input" placeholder="Search...">
            <i class="fa fa-search search-icon"></i>
          </div>
        </li>
        <li><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/book">Books</a></li>
        <li><a href="/donate">Donate</a></li>
        <li>
          <button class="cart-icon" id="cart-icon" onclick="window.location.href='/checkout'">
            <i class="fas fa-list-check" style="font-size: 20px;"></i>
            <span class="cart-count" id="cart-count">0</span>
          </button>
        </li>
        <li><button class="login-btn" onclick="window.location.href='/login' ">Login</button>
        </li>
        <!-- <li>
          <div class="profile-dropdown">
            <div class="profile-icon">
              <img src="/assets/review1.png" alt="Profile">
            </div>
            <div class="dropdown-content">
              <a href="#">My Profile</a>
              <a href="#">Settings</a>
              <a href="" class="logout"><button class="mobile-logout-btn"><span><i
                      class="fas fa-sign-out-alt"></i></span>&nbsp;Log Out</button></a>
            </div>
          </div>
        </li> -->
      </ul>
    </div>

    <div class="mobile-menu-btn-container">
      <div class="search-container">
        <input type="text" class="mobile-search-input" placeholder="Search Books...">
        <i class="fa fa-search search-icon" onclick="openSearch()" id="search-icon" style="font-size: 20px; ">
        </i>
      </div>
      <button class="mobile-cart-icon" id="mobile-cart-icon" onclick="window.location.href='/checkout'">
        <i class="fa fa-list-check" style="font-size: 20px;"></i>
        <span class="mobile-cart-count" id="mobile-cart-count">0</span>
      </button>
      <button class="mobile-menu-btn" onclick="openNav()">
        <i class="fa fa-bars"></i>
      </button>
    </div>

    <!-- Sidebar -->
    <div class="overlay" id="overlay"></div>
    <div id="sidebar" class="sidebar">
      <button class="close-btn" onclick="closeNav()">&times;</button>
      <div class="sidebar-content">
        <div class="user-profile">
          <div class="image"><img src="/assets/review1.png" alt="" srcset=""></div>
          <div class="name-and-view-profile">
            <div class="name">Md Mehedi Hasan</div>
            <div class="view-profile"><a href="#">View Profile ></a></div>
          </div>
        </div>
        <a href="/">Home</a>
        <a href="/about">About</a>
        <a href="/book">Books</a>
        <a href="/donate">Donate</a>
        <button class="mobile-login-btn" onclick="window.location.href='/login'"><span><i
              class="fas fa-sign-in-alt"></i></span>&nbsp;Login</button>
        <button class="mobile-logout-btn"><span><i class="fas fa-sign-out-alt"></i></span>&nbsp;Log Out</button>
      </div>
    </div>
  </div>

  <!-- =============== Cart Start ================ -->
  <div class="cartOverlay" id="cartOverlay"></div>
  <div class="cart-sidebar" id="cart-sidebar">
    <div class="header">
      <img src="/assets/Your Cart.png" width="50px" alt="" srcset="">
      <div class="close-cart" id="close-cart"><i class="fas fa-times"></i></div>
    </div>
    <div class="cart-content">
      <div class="empty-cart">
        <h2>Your Checklist is Empty</h2>
        <img src="/assets/empty-cart.png" alt="" srcset="">
      </div>
      <div class="item-container" id="item-container">
        <div class="image-and-details">
          <div class="image"></div>
          <div class="details">
            <h4 class="book-title"></h4>
            <p class="book-author"></p>
          </div>
        </div>
        <div class="remove">Remove</div>
      </div>
    </div>
    <div class="cart-footer">
      <div class="cart-total">
        <span>Total Books:</span>
        <p id="cart-total">0</p>
      </div>
      <button class="proceed-btn" onclick="window.location.href='/checkout/checkout.html'">Proceed to Checkout</button>
    </div>
  </div>
  <!-- ===============Navbar End====================== -->


  <div class="container">
    <div class="tab-buttons">
      <button class="tab active" onclick="showTab('book')">Donate Books</button>
      <button class="tab" onclick="showTab('support')">Financial Support</button>
    </div>

    <!-- Donate Books -->
    <div id="book" class="tab-content active">
      <h2>Donate Books</h2>
      <form id="bookForm">
        <input type="text" name="title" placeholder="Book Title *" required />
        <input type="text" name="author" placeholder="Author *" required />
        <div class="row">
          <select name="condition" required>
            <option value="">Condition *</option>
            <option value="good">Good</option>
            <option value="fair">Fair</option>
            <option value="poor">Poor</option>
          </select>
          <input type="text" name="isbn" placeholder="ISBN (Optional)" />
        </div>
        <textarea name="description" placeholder="Tell us more about your book donation..."></textarea>
        <button type="submit" class="blue-btn">Submit Book Donation</button>
      </form>
    </div>

    <!-- Financial Support -->
    <div id="support" class="tab-content">
      <h2>Financial Support</h2>
      <form id="supportForm">
        <div class="donation-amounts">
          <label><input type="radio" name="amount" value="10" /> $10</label>
          <label><input type="radio" name="amount" value="25" checked /> $25</label>
          <label><input type="radio" name="amount" value="50" /> $50</label>
          <label><input type="radio" name="amount" value="100" /> $100</label>
          <label>
            <input type="radio" name="amount" value="custom" /> Custom:
            <input type="number" name="customAmount" placeholder="Enter amount" />
          </label>
        </div>
        <div class="row">
          <input type="text" name="donor_name" placeholder="Your Name" />
          <input type="email" name="donor_email" placeholder="Email" />
        </div>
        <textarea name="message" placeholder="Tell us why you're supporting the library..."></textarea>
        <!-- <label><input type="checkbox" name="anonymous" /> Make my donation anonymous</label> -->
        <button type="submit" class="yellow-btn">Donate Now</button>
        <p class="secure-text">Secure payment powered by Stripe</p>
      </form>
    </div>
  </div>

  <script>
    // Tab switching function
    function showTab(id) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.tab').forEach(btn => btn.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      event.target.classList.add('active');
    }

    // Book Donation form submit handler
    document.getElementById("bookForm").addEventListener("submit", async function (e) {
      e.preventDefault();

      const form = e.target;

      const data = {
        title: form.title.value,
        author: form.author.value,
        book_condition: form.condition.value,
        isbn: form.isbn.value,
        description: form.description.value
      };

      try {
        const response = await fetch("/submit-book", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });
        const result = await response.json();
        alert(result.message);
        form.reset();
      } catch (err) {
        alert("Error submitting book donation: " + err.message);
      }
    });

    // Financial Support form submit handler
    document.getElementById("supportForm").addEventListener("submit", async function (e) {
      e.preventDefault();

      const form = e.target;
      let amount = form.amount.value;
      if (amount === 'custom') {
        amount = form.customAmount.value;
      }

      const data = {
        amount: amount,
        donor_name: form.donor_name.value,
        donor_email: form.donor_email.value,
        message: form.message.value,
        // anonymous: form.anonymous.checked
      };

      try {
        const response = await fetch("/submit-support", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });
        const result = await response.json();
        alert(result.message);
        form.reset();
      } catch (err) {
        alert("Error submitting financial support: " + err.message);
      }
    });
  </script>
  <script src="common.js"></script>

  <!-- ========Footer Start ================= -->
  <footer class="footer">
    <div class="footer-container">

      <!-- About -->
      <div class="footer-section">
        <h2>About Us</h2>
        <p>The Seminar Library of ICE, RU provides access to academic resources that support research and
          learning for students and faculty.</p>
      </div>

      <!-- Quick Links -->
      <div class="footer-section">
        <h2>Quick Links</h2>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/book">Browse Books</a></li>
          <li><a href="/login">Login</a></li>
          <li><a href="/book">Request a Book</a></li>
          <li><a href="#">Contact Us</a></li>
        </ul>
      </div>

      <!-- Contact -->
      <div class="footer-section">
        <h2>Contact Info</h2>
        <ul>
          <li>ICE Dept, University of Rajshahi</li>
          <li>Email: <a href="mailto:ice.library@ru.ac.bd">ice.library@ru.ac.bd</a></li>
          <li>Phone: 017XXXXXXXX</li>
          <li>M.A Wazed Mia Academic Building, University of Rajshahi</li>
        </ul>
      </div>

      <!-- External Links -->
      <div class="footer-section">
        <h2>Connect</h2>
        <ul>
          <li><a href="https://www.ru.ac.bd/ice/">ICE Dept Website</a></li>
          <li><a href="https://www.ru.ac.bd/">RU Official Site</a></li>
          <li><a href="https://web.facebook.com/groups/408338792613622">Facebook Page</a></li>
        </ul>
      </div>

    </div>

    <div class="footer-bottom">
      <p>© 2025 ICE Seminar Library, RU. Designed by Mehedi.</p>
    </div>
  </footer>
  <!-- =========Footer End============== -->
</body>

</html>